#!/bin/sh
# Determine the directory where this script resides using realpath for robustness
SCRIPT_PATH="$(realpath "$0")"
SCRIPT_DIR="$(dirname "$SCRIPT_PATH")"
CONFIG_PATH="$SCRIPT_DIR/config.json"

# Check if --config is already in arguments
if echo "$@" | grep -q -- '--config'; then
    exec npx @srbhptl39/mcp-superassistant-proxy@latest --outputTransport sse "$@"
else
    exec npx @srbhptl39/mcp-superassistant-proxy@latest --config "$CONFIG_PATH" --outputTransport sse "$@"
fi
